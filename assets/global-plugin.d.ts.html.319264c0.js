import{r as c,o as l,c as r,a as n,b as a,w as t,F as i,d as s,e as p}from"./app.fed89489.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const d={},k=n("h1",{id:"global-plugin-d-ts",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#global-plugin-d-ts","aria-hidden":"true"},"#"),s(" global-plugin.d.ts")],-1),m=n("h2",{id:"umd",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#umd","aria-hidden":"true"},"#"),s(" UMD")],-1),b=s("\u4E00\u4E2A UMD \u6A21\u5757\u65E2\u53EF\u4EE5\u7528\u4F5C ES \u6A21\u5757\uFF08\u4F7F\u7528\u5BFC\u5165\u8BED\u53E5\uFF09\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4F5C\u5168\u5C40\u53D8\u91CF\uFF08\u5728\u7F3A\u5C11\u6A21\u5757\u52A0\u8F7D\u5668\u7684\u73AF\u5883\u4E2D\u4F7F\u7528\uFF09\u3002 \u8BB8\u591A\u6D41\u884C\u7684\u4EE3\u7801\u5E93\uFF0C\u5982"),h={href:"http://momentjs.com/",target:"_blank",rel:"noopener noreferrer"},g=s("Moment.js"),f=s("\uFF0C\u90FD\u662F\u4F7F\u7528\u8FD9\u6A21\u5F0F\u53D1\u5E03\u7684\u3002 \u4F8B\u5982\uFF0C\u5728 Node.js \u4E2D\u6216\u4F7F\u7528\u4E86 RequireJS \u65F6\uFF0C\u4F60\u53EF\u4EE5\u8FD9\u6837\u4F7F\u7528\uFF1A"),_=p(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> moment <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;moment&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>moment<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728\u7EAF\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u8FD9\u6837\u4F7F\u7528\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>moment<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u8BC6\u522B-umd-\u4EE3\u7801\u5E93" tabindex="-1"><a class="header-anchor" href="#\u8BC6\u522B-umd-\u4EE3\u7801\u5E93" aria-hidden="true">#</a> \u8BC6\u522B UMD \u4EE3\u7801\u5E93</h3>`,4),y={href:"https://github.com/umdjs/umd",target:"_blank",rel:"noopener noreferrer"},v=s("UMD \u6A21\u5757"),x=s("\u4F1A\u68C0\u67E5\u8FD0\u884C\u73AF\u5883\u4E2D\u662F\u5426\u5B58\u5728\u6A21\u5757\u52A0\u8F7D\u5668\u3002 \u8FD9\u662F\u4E00\u79CD\u5E38\u89C1\u6A21\u5F0F\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A"),w=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;libName&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;libName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">.</span>returnExports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>libName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u5982\u679C\u4F60\u770B\u5230\u4EE3\u7801\u5E93\u4E2D\u5B58\u5728\u7C7B\u5982<code>typeof define</code>\uFF0C<code>typeof window</code>\u6216<code>typeof module</code>\u7684\u68C0\u6D4B\u4EE3\u7801\uFF0C\u5C24\u5176\u662F\u5728\u6587\u4EF6\u7684\u9876\u7AEF\uFF0C\u90A3\u4E48\u5B83\u5927\u6982\u7387\u662F UMD \u4EE3\u7801\u5E93\u3002</p><p>\u5728 UMD \u6A21\u5757\u7684\u6587\u6863\u4E2D\u7ECF\u5E38\u4F1A\u63D0\u4F9B\u5728 Node.js \u4E2D\u7ED3\u5408<code>require</code>\u4F7F\u7528\u7684\u793A\u4F8B\uFF0C\u4EE5\u53CA\u5728\u6D4F\u89C8\u5668\u4E2D\u7ED3\u5408<code>&lt;script&gt;</code>\u6807\u7B7E\u4F7F\u7528\u7684\u793A\u4F8B\u3002</p><h3 id="umd-\u4EE3\u7801\u5E93\u7684\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#umd-\u4EE3\u7801\u5E93\u7684\u793A\u4F8B" aria-hidden="true">#</a> UMD \u4EE3\u7801\u5E93\u7684\u793A\u4F8B</h3>`,4),E=s("\u5927\u591A\u6570\u6D41\u884C\u7684\u4EE3\u7801\u5E93\u5747\u63D0\u4F9B\u4E86 UMD \u683C\u5F0F\u7684\u5305\u3002 \u4F8B\u5982\uFF0C"),j={href:"https://jquery.com/",target:"_blank",rel:"noopener noreferrer"},q=s("jQuery"),D=s("\uFF0C"),M={href:"http://momentjs.com/",target:"_blank",rel:"noopener noreferrer"},S=s("Moment.js"),B=s("\u548C"),U={href:"https://lodash.com/",target:"_blank",rel:"noopener noreferrer"},A=s("lodash"),L=s("\u7B49\u3002"),N=n("h3",{id:"\u6A21\u7248",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6A21\u7248","aria-hidden":"true"},"#"),s(" \u6A21\u7248")],-1),C=n("p",null,"\u9488\u5BF9\u6A21\u5757\uFF0C\u5171\u5B58\u5728\u4E09\u4E2A\u6A21\u7248\u3002\u5B83\u4EEC\u662F\uFF1A",-1),F=n("code",null,"module.d.ts",-1),R=n("code",null,"module-class.d.ts",-1),T=n("code",null,"module-function.d.ts",-1),O=s("\u82E5\u4E00\u4E2A\u6A21\u5757\u53EF\u4EE5\u5F53\u4F5C\u51FD\u6570\u8C03\u7528\uFF0C\u5219\u4F7F\u7528"),I=n("code",null,"module-function.d.ts",-1),V=s("\u3002"),H=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Note: calling &#39;x&#39; as a function</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u8BF7\u52A1\u5FC5\u9605\u8BFB<a href="#es6-%E5%AF%B9%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E7%AD%BE%E5%90%8D%E7%9A%84%E5%BD%B1%E5%93%8D">\u811A\u6CE8\uFF1A&quot;ES6 \u5BF9\u6A21\u5757\u8C03\u7528\u7B7E\u540D\u7684\u5F71\u54CD&quot;</a>\u3002</p>`,2),P=s("\u5982\u679C\u4E00\u4E2A\u6A21\u5757\u53EF\u4EE5\u4F7F\u7528"),z=n("code",null,"new",-1),J=s("\u6765\u6784\u9020\uFF0C\u5219\u4F7F\u7528"),W=n("code",null,"module-class.d.ts",-1),Y=s("\u3002"),K=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Note: using &#39;new&#39; operator on the imported variable</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">x</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u8BF7\u52A1\u5FC5\u9605\u8BFB<a href="#es6-%E5%AF%B9%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E7%AD%BE%E5%90%8D%E7%9A%84%E5%BD%B1%E5%93%8D">\u811A\u6CE8\uFF1A&quot;ES6 \u5BF9\u6A21\u5757\u8C03\u7528\u7B7E\u540D\u7684\u5F71\u54CD&quot;</a>\uFF0C\u5B83\u540C\u6837\u9002\u7528\u4E8E\u8FD9\u7C7B\u6A21\u5757\u3002</p>`,2),Q=s("\u5982\u679C\u4E00\u4E2A\u6A21\u5757\u65E2\u4E0D\u53EF\u4EE5\u8C03\u7528\uFF0C\u53C8\u4E0D\u53EF\u4EE5\u6784\u9020\uFF0C\u90A3\u4E48\u5C31\u4F7F\u7528"),G=n("code",null,"module.d.ts",-1),X=s("\u3002"),Z=p('<h2 id="\u6A21\u5757\u63D2\u4EF6\u6216-umd-\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u6A21\u5757\u63D2\u4EF6\u6216-umd-\u63D2\u4EF6" aria-hidden="true">#</a> \u6A21\u5757\u63D2\u4EF6\u6216 UMD \u63D2\u4EF6</h2><p>\u6A21\u5757\u63D2\u4EF6\u4F1A\u6539\u53D8\u5176\u5B83\u6A21\u5757\u7684\u7ED3\u6784\uFF08\u5305\u542B UMD \u6216 ES \u6A21\u5757\uFF09\u3002 \u4F8B\u5982\uFF0C\u5728 Moment.js \u4E2D\uFF0C<code>moment-range</code>\u4F1A\u5C06<code>range</code>\u65B9\u6CD5\u6DFB\u52A0\u5230<code>moment</code>\u5BF9\u8C61\u4E0A\u3002</p><p>\u5BF9\u4E8E\u7F16\u5199\u58F0\u660E\u6587\u4EF6\u800C\u8A00\uFF0C\u65E0\u8BBA\u662F ES \u6A21\u5757\u8FD8\u662F UMD \u6A21\u5757\uFF0C\u4F60\u90FD\u53EF\u4EE5\u4F7F\u7528\u76F8\u540C\u7684\u4EE3\u7801\u3002</p><h3 id="\u6A21\u7248-1" tabindex="-1"><a class="header-anchor" href="#\u6A21\u7248-1" aria-hidden="true">#</a> \u6A21\u7248</h3>',4),$=s("\u4F7F\u7528"),nn=n("code",null,"module-plugin.d.ts",-1),sn=s("\u6A21\u7248\u3002"),an=p(`<h2 id="\u5168\u5C40\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u63D2\u4EF6" aria-hidden="true">#</a> \u5168\u5C40\u63D2\u4EF6</h2><p>\u5168\u5C40\u63D2\u4EF6\u662F\u4E00\u6BB5\u5168\u5C40\u4EE3\u7801\uFF0C\u5B83\u4F1A\u6539\u53D8\u67D0\u4E2A\u5168\u5C40\u53D8\u91CF\u3002 \u5BF9\u4E8E\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757\uFF0C\u5B83\u4F1A\u589E\u52A0\u51FA\u73B0\u8FD0\u884C\u65F6\u51B2\u7A81\u7684\u53EF\u80FD\u6027\u3002</p><p>\u4F8B\u5982\uFF0C\u6709\u4E9B\u5E93\u4F1A\u5411<code>Array.prototype</code>\u6216<code>String.prototype</code>\u4E2D\u589E\u52A0\u65B0\u7684\u51FD\u6570\u3002</p><h3 id="\u8BC6\u522B\u5168\u5C40\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u8BC6\u522B\u5168\u5C40\u63D2\u4EF6" aria-hidden="true">#</a> \u8BC6\u522B\u5168\u5C40\u63D2\u4EF6</h3><p>\u5168\u5C40\u63D2\u4EF6\u901A\u5E38\u53EF\u4EE5\u6839\u636E\u5176\u6587\u6863\u6765\u8BC6\u522B\u3002</p><p>\u4F60\u4F1A\u770B\u5230\u5982\u4E0B\u793A\u4F8B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">&#39;hello, world&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// Creates new methods on built-in types</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">startsWithHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Creates new methods on built-in types</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">reverseAndSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="\u6A21\u7248-2" tabindex="-1"><a class="header-anchor" href="#\u6A21\u7248-2" aria-hidden="true">#</a> \u6A21\u7248</h3>`,8),en=s("\u4F7F\u7528"),tn=n("code",null,"global-plugin.d.ts",-1),pn=s("\u6A21\u7248\u3002"),on=p(`<h2 id="\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757" aria-hidden="true">#</a> \u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757</h2><p>\u5BF9\u4E8E\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757\u6765\u8BB2\uFF0C\u5728\u5BFC\u5165\u5B83\u4EEC\u65F6\uFF0C\u4F1A\u5BF9\u5168\u5C40\u4F5C\u7528\u57DF\u4E2D\u7684\u503C\u8FDB\u884C\u4FEE\u6539\u3002 \u6BD4\u5982\u5B58\u5728\u67D0\u4E2A\u4EE3\u7801\u5E93\uFF0C\u5F53\u5BFC\u5165\u5B83\u65F6\uFF0C\u5B83\u4F1A\u5411<code>String.prototype</code>\u4E0A\u6DFB\u52A0\u65B0\u7684\u6210\u5458\u3002 \u8BE5\u6A21\u5F0F\u5B58\u5728\u5371\u9669\uFF0C\u56E0\u4E3A\u5B83\u6709\u5BFC\u81F4\u8FD0\u884C\u65F6\u51B2\u7A81\u7684\u53EF\u80FD\u6027\uFF0C \u4F46\u6211\u4EEC\u4ECD\u7136\u53EF\u4EE5\u4E3A\u5176\u7F16\u5199\u58F0\u660E\u6587\u4EF6\u3002</p><h3 id="\u8BC6\u522B\u51FA\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u8BC6\u522B\u51FA\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757" aria-hidden="true">#</a> \u8BC6\u522B\u51FA\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757</h3><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6587\u6863\u6765\u8BC6\u522B\u4FEE\u6539\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u6A21\u5757\u3002 \u901A\u5E38\u6765\u8BB2\uFF0C\u5B83\u4EEC\u4E0E\u5168\u5C40\u63D2\u4EF6\u7C7B\u4F3C\uFF0C\u4F46\u662F\u9700\u8981<code>require</code>\u8BED\u53E5\u6765\u6FC0\u6D3B\u5BF9\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u4FEE\u6539\u3002</p><p>\u4F60\u53EF\u80FD\u770B\u5230\u8FC7\u5982\u4E0B\u7684\u6587\u6863\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// &#39;require&#39; call that doesn&#39;t use its return value</span>
<span class="token keyword">var</span> unused <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;magic-string-time&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* or */</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;magic-string-time&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">&#39;hello, world&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// Creates new methods on built-in types</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">startsWithHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Creates new methods on built-in types</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">reverseAndSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="\u6A21\u7248-3" tabindex="-1"><a class="header-anchor" href="#\u6A21\u7248-3" aria-hidden="true">#</a> \u6A21\u7248</h3>`,7),cn=s("\u4F7F\u7528"),ln=n("code",null,"global-modifying-module.d.ts",-1),rn=s("\u6A21\u7248\u3002"),un=p(`<h2 id="\u5229\u7528\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528\u4F9D\u8D56" aria-hidden="true">#</a> \u5229\u7528\u4F9D\u8D56</h2><p>\u4F60\u7684\u4EE3\u7801\u5E93\u53EF\u80FD\u4F1A\u6709\u82E5\u5E72\u79CD\u4F9D\u8D56\u3002 \u672C\u8282\u4F1A\u4ECB\u7ECD\u5982\u4F55\u5728\u58F0\u660E\u6587\u4EF6\u4E2D\u5BFC\u5165\u5B83\u4EEC\u3002</p><h3 id="\u5BF9\u5168\u5C40\u5E93\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5BF9\u5168\u5C40\u5E93\u7684\u4F9D\u8D56" aria-hidden="true">#</a> \u5BF9\u5168\u5C40\u5E93\u7684\u4F9D\u8D56</h3><p>\u5982\u679C\u4F60\u7684\u4EE3\u7801\u5E93\u4F9D\u8D56\u4E8E\u67D0\u4E2A\u5168\u5C40\u4EE3\u7801\u5E93\uFF0C\u5219\u4F7F\u7528<code>/// &lt;reference types=&quot;...&quot; /&gt;</code>\u6307\u4EE4\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/// &lt;reference types=&quot;someLib&quot; /&gt;</span>

<span class="token keyword">function</span> <span class="token function">getThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> someLib<span class="token punctuation">.</span>thing<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u5BF9\u6A21\u5757\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5BF9\u6A21\u5757\u7684\u4F9D\u8D56" aria-hidden="true">#</a> \u5BF9\u6A21\u5757\u7684\u4F9D\u8D56</h3><p>\u5982\u679C\u4F60\u7684\u4EE3\u7801\u5E93\u4F9D\u8D56\u4E8E\u67D0\u4E2A\u6A21\u5757\uFF0C\u5219\u4F7F\u7528<code>import</code>\u8BED\u53E5\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> moment <span class="token keyword">from</span> <span class="token string">&#39;moment&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> moment<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u5BF9-umd-\u6A21\u5757\u7684\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5BF9-umd-\u6A21\u5757\u7684\u4F9D\u8D56" aria-hidden="true">#</a> \u5BF9 UMD \u6A21\u5757\u7684\u4F9D\u8D56</h3><h4 id="\u5168\u5C40\u4EE3\u7801\u5E93" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u4EE3\u7801\u5E93" aria-hidden="true">#</a> \u5168\u5C40\u4EE3\u7801\u5E93</h4><p>\u5982\u679C\u4F60\u7684\u5168\u5C40\u4EE3\u7801\u5E93\u4F9D\u8D56\u4E8E\u67D0\u4E2A UMD \u6A21\u5757\uFF0C\u5219\u4F7F\u7528<code>/// &lt;reference types</code>\u6307\u4EE4\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/// &lt;reference types=&quot;moment&quot; /&gt;</span>

<span class="token keyword">function</span> <span class="token function">getThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> moment<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="es-\u6A21\u5757\u6216-umd-\u6A21\u5757\u4EE3\u7801\u5E93" tabindex="-1"><a class="header-anchor" href="#es-\u6A21\u5757\u6216-umd-\u6A21\u5757\u4EE3\u7801\u5E93" aria-hidden="true">#</a> ES \u6A21\u5757\u6216 UMD \u6A21\u5757\u4EE3\u7801\u5E93</h4><p>\u5982\u679C\u4F60\u7684\u6A21\u5757\u6216 UMD \u4EE3\u7801\u5E93\u4F9D\u8D56\u4E8E\u67D0\u4E2A UMD \u4EE3\u7801\u5E93\uFF0C\u5219\u4F7F\u7528<code>import</code>\u8BED\u53E5\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> someLib <span class="token keyword">from</span> <span class="token string">&#39;someLib&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4E0D\u8981\u4F7F\u7528<code>/// &lt;reference</code>\u6307\u4EE4\u6765\u58F0\u660E\u5BF9 UMD \u4EE3\u7801\u5E93\u7684\u4F9D\u8D56\u3002</p><h2 id="\u811A\u6CE8" tabindex="-1"><a class="header-anchor" href="#\u811A\u6CE8" aria-hidden="true">#</a> \u811A\u6CE8</h2><h3 id="\u9632\u6B62\u547D\u540D\u51B2\u7A81" tabindex="-1"><a class="header-anchor" href="#\u9632\u6B62\u547D\u540D\u51B2\u7A81" aria-hidden="true">#</a> \u9632\u6B62\u547D\u540D\u51B2\u7A81</h3><p>\u6CE8\u610F\uFF0C\u867D\u8BF4\u53EF\u4EE5\u5728\u5168\u5C40\u4F5C\u7528\u57DF\u5185\u5B9A\u4E49\u8BB8\u591A\u7C7B\u578B\u3002 \u4F46\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u4E0D\u8981\u8FD9\u6837\u505A\uFF0C\u56E0\u4E3A\u5F53\u4E00\u4E2A\u5DE5\u7A0B\u4E2D\u5B58\u5728\u591A\u4E2A\u58F0\u660E\u6587\u4EF6\u65F6\uFF0C\u5B83\u53EF\u80FD\u4F1A\u5BFC\u81F4\u96BE\u4EE5\u89E3\u51B3\u7684\u547D\u540D\u51B2\u7A81\u3002</p><p>\u53EF\u4EE5\u9075\u5FAA\u7684\u4E00\u4E2A\u7B80\u5355\u89C4\u5219\u662F\u4F7F\u7528\u4EE3\u7801\u5E93\u63D0\u4F9B\u7684\u67D0\u4E2A\u5168\u5C40\u53D8\u91CF\u6765\u58F0\u660E\u62E5\u6709\u547D\u540D\u7A7A\u95F4\u7684\u7C7B\u578B\u3002 \u4F8B\u5982\uFF0C\u5982\u679C\u4EE3\u7801\u5E93\u63D0\u4F9B\u4E86\u5168\u5C40\u53D8\u91CF<code>cats</code>\uFF0C\u90A3\u4E48\u53EF\u4EE5\u8FD9\u6837\u5199\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">namespace</span> cats <span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">KittySettings</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u800C\u4E0D\u662F\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// at top-level</span>
<span class="token keyword">interface</span> <span class="token class-name">CatsKittySettings</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8FD9\u6837\u505A\u4F1A\u4FDD\u8BC1\u4EE3\u7801\u5E93\u53EF\u4EE5\u88AB\u8F6C\u6362\u6210 UMD \u6A21\u5757\uFF0C\u4E14\u4E0D\u4F1A\u5F71\u54CD\u58F0\u660E\u6587\u4EF6\u7684\u4F7F\u7528\u8005\u3002</p><h3 id="es6-\u5BF9\u6A21\u5757\u63D2\u4EF6\u7684\u5F71\u54CD" tabindex="-1"><a class="header-anchor" href="#es6-\u5BF9\u6A21\u5757\u63D2\u4EF6\u7684\u5F71\u54CD" aria-hidden="true">#</a> ES6 \u5BF9\u6A21\u5757\u63D2\u4EF6\u7684\u5F71\u54CD</h3><p>\u4E00\u4E9B\u63D2\u4EF6\u4F1A\u5BF9\u5DF2\u6709\u6A21\u5757\u7684\u9876\u5C42\u5BFC\u51FA\u8FDB\u884C\u6DFB\u52A0\u6216\u4FEE\u6539\u3002 \u8FD9\u5728 CommonJS \u4EE5\u53CA\u5176\u5B83\u6A21\u5757\u52A0\u8F7D\u5668\u91CC\u662F\u5408\u6CD5\u7684\uFF0C\u4F46 ES6 \u6A21\u5757\u662F\u4E0D\u53EF\u6539\u53D8\u7684\uFF0C\u56E0\u6B64\u8BE5\u6A21\u5F0F\u662F\u4E0D\u53EF\u884C\u7684\u3002 \u56E0\u4E3A\uFF0CTypeScript \u662F\u6A21\u5757\u52A0\u8F7D\u5668\u65E0\u5173\u7684\uFF0C\u6240\u4EE5\u5728\u7F16\u8BD1\u65F6\u4E0D\u4F1A\u5BF9\u8BE5\u884C\u4E3A\u52A0\u4EE5\u9650\u5236\uFF0C\u4F46\u662F\u5F00\u53D1\u8005\u82E5\u60F3\u8981\u8F6C\u6362\u5230 ES6 \u6A21\u5757\u52A0\u8F7D\u5668\u5219\u9700\u8981\u6CE8\u610F\u8FD9\u4E00\u70B9\u3002</p><h3 id="es6-\u5BF9\u6A21\u5757\u8C03\u7528\u7B7E\u540D\u7684\u5F71\u54CD" tabindex="-1"><a class="header-anchor" href="#es6-\u5BF9\u6A21\u5757\u8C03\u7528\u7B7E\u540D\u7684\u5F71\u54CD" aria-hidden="true">#</a> ES6 \u5BF9\u6A21\u5757\u8C03\u7528\u7B7E\u540D\u7684\u5F71\u54CD</h3><p>\u8BB8\u591A\u4EE3\u7801\u5E93\uFF0C\u5982 Express\uFF0C\u5C06\u81EA\u8EAB\u5BFC\u51FA\u4E3A\u53EF\u8C03\u7528\u7684\u51FD\u6570\u3002 \u4F8B\u5982\uFF0CExpress \u7684\u5178\u578B\u7528\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> exp <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728 ES6 \u6A21\u5757\u52A0\u8F7D\u5668\u4E2D\uFF0C\u9876\u5C42\u5BF9\u8C61\uFF08\u6B64\u4F8B\u4E2D\u5C31<code>exp</code>\uFF09\u53EA\u80FD\u62E5\u6709\u5C5E\u6027\uFF1B \u9876\u5C42\u7684\u6A21\u5757\u5BF9\u8C61\u6C38\u8FDC\u4E0D\u80FD\u591F\u88AB\u8C03\u7528\u3002 \u6700\u5E38\u89C1\u7684\u89E3\u51B3\u65B9\u6848\u662F\u4E3A\u53EF\u8C03\u7528\u7684/\u53EF\u6784\u9020\u7684\u5BF9\u8C61\u5B9A\u4E49\u4E00\u4E2A<code>default</code>\u5BFC\u51FA\uFF1B \u6709\u4E9B\u6A21\u5757\u52A0\u8F7D\u5668\u4F1A\u81EA\u52A8\u68C0\u6D4B\u8FD9\u79CD\u60C5\u51B5\u5E76\u4E14\u5C06\u9876\u5C42\u5BF9\u8C61\u66FF\u6362\u4E3A<code>default</code>\u5BFC\u51FA\u3002</p><h2 id="\u4EE3\u7801\u5E93\u6587\u4EF6\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5E93\u6587\u4EF6\u7ED3\u6784" aria-hidden="true">#</a> \u4EE3\u7801\u5E93\u6587\u4EF6\u7ED3\u6784</h2><p>\u58F0\u660E\u6587\u4EF6\u7684\u7ED3\u6784\u5E94\u8BE5\u53CD\u6620\u4EE3\u7801\u5E93\u6E90\u7801\u7684\u7ED3\u6784\u3002</p><p>\u4E00\u4E2A\u4EE3\u7801\u5E93\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u6A21\u5757\uFF0C\u6BD4\u5982\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>myLib
  +---- index.js
  +---- foo.js
  +---- bar
         +---- index.js
         +---- baz.js
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u5B83\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5982\u4E0B\u65B9\u5F0F\u5BFC\u5165\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;myLib&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;myLib/foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;myLib/bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;myLib/bar/baz&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u58F0\u660E\u6587\u4EF6\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@types/myLib
  +---- index.d.ts
  +---- foo.d.ts
  +---- bar
         +---- index.d.ts
         +---- baz.d.ts
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Type definitions for [~THE LIBRARY NAME~] [~OPTIONAL VERSION NUMBER~]</span>
<span class="token comment">// Project: [~THE PROJECT NAME~]</span>
<span class="token comment">// Definitions by: [~YOUR NAME~] &lt;[~A URL FOR YOU~]&gt;</span>

<span class="token comment">/*~ This template shows how to write a global plugin. */</span>

<span class="token comment">/*~ Write a declaration for the original type and add new members.
 *~ For example, this adds a &#39;toBinaryString&#39; method with overloads to
 *~ the built-in number type.
 */</span>
<span class="token keyword">interface</span> <span class="token class-name">Number</span> <span class="token punctuation">{</span>
    <span class="token function">toBinaryString</span><span class="token punctuation">(</span>opts<span class="token operator">?</span><span class="token operator">:</span> MyLibrary<span class="token punctuation">.</span>BinaryFormatOptions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token function">toBinaryString</span><span class="token punctuation">(</span>
        callback<span class="token operator">:</span> MyLibrary<span class="token punctuation">.</span>BinaryFormatCallback<span class="token punctuation">,</span>
        opts<span class="token operator">?</span><span class="token operator">:</span> MyLibrary<span class="token punctuation">.</span>BinaryFormatOptions
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*~ If you need to declare several types, place them inside a namespace
 *~ to avoid adding too many things to the global namespace.
 */</span>
<span class="token keyword">declare</span> <span class="token keyword">namespace</span> MyLibrary <span class="token punctuation">{</span>
    <span class="token keyword">type</span> <span class="token class-name">BinaryFormatCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">interface</span> <span class="token class-name">BinaryFormatOptions</span> <span class="token punctuation">{</span>
        prefix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
        padding<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>`,39);function dn(kn,mn){const o=c("ExternalLinkIcon"),e=c("RouterLink");return l(),r(i,null,[k,m,n("p",null,[b,n("a",h,[g,a(o)]),f]),_,n("p",null,[n("a",y,[v,a(o)]),x]),w,n("p",null,[E,n("a",j,[q,a(o)]),D,n("a",M,[S,a(o)]),B,n("a",U,[A,a(o)]),L]),N,C,n("ul",null,[n("li",null,[a(e,{to:"/declaration-files/templates/templates/module.d.ts.html"},{default:t(()=>[F]),_:1})]),n("li",null,[a(e,{to:"/declaration-files/templates/templates/module-class.d.ts.html"},{default:t(()=>[R]),_:1})]),n("li",null,[a(e,{to:"/declaration-files/templates/templates/module-function.d.ts.html"},{default:t(()=>[T]),_:1})])]),n("p",null,[O,a(e,{to:"/declaration-files/templates/templates/module-function.d.ts.html"},{default:t(()=>[I]),_:1}),V]),H,n("p",null,[P,z,J,a(e,{to:"/declaration-files/templates/templates/module-class.d.ts.html"},{default:t(()=>[W]),_:1}),Y]),K,n("p",null,[Q,a(e,{to:"/declaration-files/templates/templates/module.d.ts.html"},{default:t(()=>[G]),_:1}),X]),Z,n("p",null,[$,a(e,{to:"/declaration-files/templates/templates/module-plugin.d.ts.html"},{default:t(()=>[nn]),_:1}),sn]),an,n("p",null,[en,a(e,{to:"/declaration-files/templates/templates/global-plugin.d.ts.html"},{default:t(()=>[tn]),_:1}),pn]),on,n("p",null,[cn,a(e,{to:"/declaration-files/templates/templates/global-modifying-module.d.ts.html"},{default:t(()=>[ln]),_:1}),rn]),un],64)}var gn=u(d,[["render",dn]]);export{gn as default};
