import{r as p,o as t,c as e,a as s,b as o,F as c,e as r,d as n}from"./app.0186264c.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=r(`<h1 id="typescript-3-3" tabindex="-1"><a class="header-anchor" href="#typescript-3-3" aria-hidden="true">#</a> TypeScript 3.3</h1><h2 id="\u6539\u8FDB\u8C03\u7528\u8054\u5408\u7C7B\u578B\u65F6\u7684\u884C\u4E3A" tabindex="-1"><a class="header-anchor" href="#\u6539\u8FDB\u8C03\u7528\u8054\u5408\u7C7B\u578B\u65F6\u7684\u884C\u4E3A" aria-hidden="true">#</a> \u6539\u8FDB\u8C03\u7528\u8054\u5408\u7C7B\u578B\u65F6\u7684\u884C\u4E3A</h2><p>\u5728 TypeScript \u4E4B\u524D\u7684\u7248\u672C\u4E2D\uFF0C\u5C06\u53EF\u8C03\u7528\u7C7B\u578B\u8054\u5408\u540E\u4EC5\u5728\u5B83\u4EEC\u5177\u6709\u76F8\u540C\u7684\u53C2\u6570\u5217\u8868\u65F6\u624D\u80FD\u88AB\u8C03\u7528\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Fruit</span> <span class="token operator">=</span> <span class="token string">&quot;apple&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Color</span> <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FruitEater</span> <span class="token operator">=</span> <span class="token punctuation">(</span>fruit<span class="token operator">:</span> Fruit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// eats and ranks the fruit</span>
<span class="token keyword">type</span> <span class="token class-name">ColorConsumer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>color<span class="token operator">:</span> Color<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// consumes and describes the colors</span>

<span class="token keyword">declare</span> <span class="token keyword">let</span> f<span class="token operator">:</span> FruitEater <span class="token operator">|</span> ColorConsumer<span class="token punctuation">;</span>

<span class="token comment">// Cannot invoke an expression whose type lacks a call signature.</span>
<span class="token comment">//   Type &#39;FruitEater | ColorConsumer&#39; has no compatible call signatures.ts(2349)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u7136\u800C\uFF0C\u4E0A\u4F8B\u4E2D\uFF0C<code>FruitEater</code>\u548C<code>ColorConsumer</code>\u5E94\u8BE5\u90FD\u53EF\u4EE5\u4F7F\u7528<code>&quot;orange&quot;</code>\uFF0C\u5E76\u8FD4\u56DE<code>number</code>\u6216<code>string</code>\u3002</p><p>\u5728 TypeScript 3.3 \u91CC\uFF0C\u8FD9\u4E2A\u9519\u8BEF\u4E0D\u5B58\u5728\u4E86\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Fruit</span> <span class="token operator">=</span> <span class="token string">&quot;apple&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Color</span> <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FruitEater</span> <span class="token operator">=</span> <span class="token punctuation">(</span>fruit<span class="token operator">:</span> Fruit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// eats and ranks the fruit</span>
<span class="token keyword">type</span> <span class="token class-name">ColorConsumer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>color<span class="token operator">:</span> Color<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// consumes and describes the colors</span>

<span class="token keyword">declare</span> <span class="token keyword">let</span> f<span class="token operator">:</span> FruitEater <span class="token operator">|</span> ColorConsumer<span class="token punctuation">;</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// It works! Returns a &#39;number | string&#39;.</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error - Argument of type &#39;&quot;apple&quot;&#39; is not assignable to parameter of type &#39;&quot;orange&quot;&#39;.</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error - Argument of type &#39;&quot;red&quot;&#39; is not assignable to parameter of type &#39;&quot;orange&quot;&#39;.</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>TypeScript 3.3\uFF0C\u8FD9\u4E9B\u7B7E\u540D\u7684\u53C2\u6570\u88AB\u8FDE\u7ED3\u5728\u4E00\u8D77\u6784\u6210\u4E86\u4E00\u4E2A\u65B0\u7684\u7B7E\u540D\u3002</p><p>\u5728\u4E0A\u4F8B\u4E2D\uFF0C<code>fruit</code>\u548C<code>color</code>\u8FDE\u7ED3\u5728\u4E00\u8D77\u5F62\u6210\u65B0\u7684\u53C2\u6570\u7C7B\u578B<code>Fruit &amp; Color</code>\u3002 <code>Fruit &amp; Color</code>\u548C<code>(&quot;apple&quot; | &quot;orange&quot;) &amp; (&quot;red&quot; | &quot;orange&quot;)</code>\u662F\u4E00\u6837\u7684\uFF0C\u90FD\u76F8\u5F53\u4E8E<code>(&quot;apple&quot; &amp; &quot;red&quot;) | (&quot;apple&quot; &amp; &quot;orange&quot;) | (&quot;orange&quot; &amp; &quot;red&quot;) | (&quot;orange&quot; &amp; &quot;orange&quot;)</code>\u3002 \u90A3\u4E9B\u4E0D\u53EF\u80FD\u4EA4\u53C9\u7684\u4F1A\u89C4\u7EA6\u6210<code>never</code>\u7C7B\u578B\uFF0C\u53EA\u5269\u4E0B<code>&quot;orange&quot; &amp; &quot;orange&quot;</code>\uFF0C\u5C31\u662F<code>&quot;orange&quot;</code>\u3002</p><h3 id="\u8B66\u544A" tabindex="-1"><a class="header-anchor" href="#\u8B66\u544A" aria-hidden="true">#</a> \u8B66\u544A</h3><p>\u8FD9\u4E2A\u65B0\u884C\u4E3A\u4EC5\u5728\u6EE1\u8DB3\u5982\u4E0B\u60C5\u5F62\u65F6\u751F\u6548\uFF1A</p><ul><li>\u8054\u5408\u7C7B\u578B\u4E2D\u6700\u591A\u6709\u4E00\u4E2A\u7C7B\u578B\u5177\u6709\u591A\u4E2A\u91CD\u8F7D\uFF0C</li><li>\u8054\u5408\u7C7B\u578B\u4E2D\u6700\u591A\u6709\u4E00\u4E2A\u7C7B\u578B\u6709\u6CDB\u578B\u7B7E\u540D\u3002</li></ul><p>\u8FD9\u610F\u5473\u7740\uFF0C\u50CF<code>map</code>\u8FD9\u79CD\u64CD\u4F5C<code>number[] | string[]</code>\u7684\u65B9\u6CD5\uFF0C\u8FD8\u662F\u4E0D\u80FD\u8C03\u7528\uFF0C\u56E0\u4E3A<code>map</code>\u662F\u6CDB\u578B\u51FD\u6570\u3002</p><p>\u53E6\u4E00\u65B9\u9762\uFF0C\u50CF<code>forEach</code>\u5C31\u53EF\u4EE5\u8C03\u7528\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u662F\u6CDB\u578B\u51FD\u6570\uFF0C\u4F46\u5728<code>noImplicitAny</code>\u6A21\u5F0F\u53EF\u80FD\u6709\u4E9B\u95EE\u9898\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">;</span>
  dogProp<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">;</span>
  catProp<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> catOrDogArray<span class="token operator">:</span> Dog<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> Cat<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

catOrDogArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>animal <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//                ~~~~~~ error!</span>
  <span class="token comment">// Parameter &#39;animal&#39; implicitly has an &#39;any&#39; type.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u6DFB\u52A0\u663E\u5F0F\u7684\u7C7B\u578B\u4FE1\u606F\u53EF\u4EE5\u89E3\u51B3\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">;</span>
  dogProp<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">;</span>
  catProp<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> catOrDogArray<span class="token operator">:</span> Dog<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> Cat<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
catOrDogArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Dog <span class="token operator">|</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animal<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span>dogProp<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>animal<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span>catProp<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="\u5728\u5408\u590D\u5408\u5DE5\u7A0B\u4E2D\u589E\u91CF\u5730\u68C0\u6D4B\u6587\u4EF6\u7684\u53D8\u5316-build-watch" tabindex="-1"><a class="header-anchor" href="#\u5728\u5408\u590D\u5408\u5DE5\u7A0B\u4E2D\u589E\u91CF\u5730\u68C0\u6D4B\u6587\u4EF6\u7684\u53D8\u5316-build-watch" aria-hidden="true">#</a> \u5728\u5408\u590D\u5408\u5DE5\u7A0B\u4E2D\u589E\u91CF\u5730\u68C0\u6D4B\u6587\u4EF6\u7684\u53D8\u5316 <code>--build --watch</code></h2><p>TypeScript 3.0 \u5F15\u5165\u4E86\u4E00\u4E2A\u65B0\u7279\u6027\u6765\u6309\u7ED3\u6784\u8FDB\u884C\u6784\u5EFA\uFF0C\u79F0\u505A\u201C\u590D\u5408\u5DE5\u7A0B\u201D\u3002 \u76EE\u7684\u662F\u8BA9\u7528\u6237\u80FD\u591F\u628A\u5927\u578B\u5DE5\u7A0B\u62C6\u5206\u6210\u5C0F\u7684\u90E8\u5206\u4ECE\u800C\u5FEB\u901F\u6784\u5EFA\u5E76\u4FDD\u7559\u9879\u76EE\u7ED3\u6784\u3002 \u6B63\u662F\u56E0\u4E3A\u652F\u6301\u4E86\u590D\u5408\u5DE5\u7A0B\uFF0CTypeScript \u53EF\u4EE5\u4F7F\u7528<code>--build</code>\u6A21\u5F0F\u4EC5\u91CD\u65B0\u7F16\u8BD1\u90E8\u5206\u5DE5\u7A0B\u548C\u4F9D\u8D56\u3002 \u53EF\u4EE5\u628A\u5B83\u5F53\u505A\u5DE5\u4F5C\u5185\u90E8\u6784\u5EFA\u7684\u4E00\u79CD\u4F18\u5316\u3002</p><p>TypeScript 2.7 \u8FD8\u5F15\u5165\u4E86<code>--watch</code>\u6784\u5EFA\u6A21\u5F0F\uFF0C\u5B83\u4F7F\u7528\u4E86\u65B0\u7684\u589E\u91CF&quot;builder&quot;API\u3002 \u80CC\u540E\u7684\u60F3\u6CD5\u90FD\u662F\u4EC5\u91CD\u65B0\u68C0\u67E5\u548C\u751F\u6210\u6539\u52A8\u8FC7\u7684\u6587\u4EF6\u6216\u8005\u662F\u4F9D\u8D56\u9879\u53EF\u80FD\u5F71\u54CD\u7C7B\u578B\u68C0\u67E5\u7684\u6587\u4EF6\u3002 \u53EF\u4EE5\u628A\u5B83\u4EEC\u5F53\u6210\u5DE5\u7A0B\u5185\u90E8\u6784\u5EFA\u7684\u4F18\u5316\u3002</p><p>\u5728 3.3 \u4E4B\u524D\uFF0C\u4F7F\u7528<code>--build --watch</code>\u6784\u5EFA\u590D\u5408\u5DE5\u7A0B\u4E0D\u4F1A\u771F\u6B63\u5730\u4F7F\u7528\u589E\u91CF\u6587\u4EF6\u68C0\u6D4B\u673A\u5236\u3002 \u5728<code>--build --watch</code>\u6A21\u5F0F\u4E0B\uFF0C\u4E00\u4E2A\u5DE5\u7A0B\u91CC\u7684\u4E00\u5904\u6539\u52A8\u4F1A\u5BFC\u81F4\u6574\u4E2A\u5DE5\u7A0B\u91CD\u65B0\u6784\u5EFA\uFF0C\u800C\u975E\u4EC5\u68C0\u67E5\u90A3\u4E9B\u771F\u6B63\u53D7\u5230\u5F71\u54CD\u7684\u6587\u4EF6\u3002</p>`,21),k=n("\u5728 TypeScript 3.3 \u91CC\uFF0C"),d=s("code",null,"--build",-1),b=n("\u6A21\u5F0F\u7684"),m=s("code",null,"--watch",-1),g=n("\u6807\u8BB0\u4E5F\u4F1A\u4F7F\u7528\u589E\u91CF\u6587\u4EF6\u68C0\u6D4B\u3002 \u56E0\u6B64"),q=s("code",null,"--build --watch",-1),y=n("\u6A21\u5F0F\u4E0B\u6784\u5EFA\u975E\u5E38\u5FEB\u3002 \u6211\u4EEC\u7684\u6D4B\u8BD5\u7ED3\u679C\u663E\u793A\uFF0C\u8FD9\u4E2A\u529F\u80FD\u4F1A\u51CF\u5C11 50%\u5230 75%\u7684\u6784\u5EFA\u65F6\u95F4\uFF0C\u76F8\u6BD4\u4E8E\u539F\u5148\u7684"),h=s("code",null,"--build --watch",-1),f=n("\u3002 \u5177\u4F53\u6570\u5B57\u5728\u8FD9\u8FD9\u4E2A"),_={href:"https://github.com/Microsoft/TypeScript/pull/29161",target:"_blank",rel:"noopener noreferrer"},w=n("pull request"),C=n("\u91CC\uFF0C\u6211\u4EEC\u76F8\u4FE1\u5927\u591A\u6570\u590D\u5408\u5DE5\u7A0B\u7528\u6237\u4F1A\u770B\u5230\u660E\u663E\u6548\u679C\u3002");function v(x,F){const a=p("ExternalLinkIcon");return t(),e(c,null,[i,s("p",null,[k,d,b,m,g,q,y,h,f,s("a",_,[w,o(a)]),C])],64)}var S=l(u,[["render",v]]);export{S as default};
